(function () {
  var prelude = [
    [1, 5], -4, -4, 1, [-1, 0.5], [-3, 0.5], [-1, 7],
    [1, 5], -3, -3, 1, [0, 0.5], [-2, 0.5], [0, 7]
  ]

  var overtune = [
    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    [-16, 0.5], [-23, 0.5], [-16, 0.5], [-23, 0.5],

    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    [-16, 0.5], [-23, 0.5], [-16, 0.5], [-23, 0.5],

    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    -16, [-16, 0.5], [-23, 0.5],
    [-16, 0.5], [-23, 0.5], [-16, 0.5], [-23, 0.5],

    -18, -11,
    [-11, 0.5], [-9, 0.5], [-7, 0.5], [-6, 0.5], -4,
    [-18, 0.5], [-25, 0.5], [-18, 0.5], [-25, 0.5], [-18, 0.5], [-25, 0.5]
  ]

  var verse = [
    -20, [-20, 0.5], [-27, 0.5],
    -20, [-20, 0.5], [-27, 0.5],
    -20, [-20, 0.5], [-27, 0.5],
    [-20, 0.5], [-27, 0.5], [-20, 0.5], [-27, 0.5],

    -21, -11,
    [-11, 0.5], [-9, 0.5], [-7, 0.5], [-6, 0.5], -4,
    [-21, 0.5], [-28, 0.5], [-21, 0.5], [-28, 0.5], [-21, 0.5], [-28, 0.5],

    [-7, 2], [-7, 2 / 3], [-7, 2 / 3], [-9, 2 / 3], [-7, 1.5],
    [-7, 0.5], [-7, 0.5], [-6, 0.5], [-4, 0.5], [-2, 0.5], [-1, 1.5],
    [1, 0.5], [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 2],

    [-1, 2 / 3], [1, 2 / 3], [3, 2 / 3], [-3, 1.5],
    [-3, 0.5], [-3, 0.5], [-1, 0.5], [1, 0.5], [3, 0.5], [4, 1.5],

    [4, 0.5], [4, 2 / 3], [3, 2 / 3], [1, 2 / 3], [4, 4 / 3],
    [1, 2 / 3], [-1, 2 / 3], [-1, 2 / 3], [-3, 2 / 3], [-1, 4 / 3],
    [-1, 2 / 3], [-1, 2 / 3], [-3, 2 / 3], [-1, 2 / 3],

    -3, [-3, 0.5], [-4, 0.5],
    -3, [-3, 0.5], [-1, 0.5],
    [1, 2],
    -1, -3,
    -4, [-4, 0.5], [-6, 0.5],
    -4, [-4, 0.5], [-3, 0.5],
    [-1, 2],
    -3, -4,
    3, [3, 0.5], [5, 0.5], [7, 4], [10, 2],
    8,
    [-4, 0.5], [-4, 0.5], -4,
    [-4, 0.5], [-4, 0.5], -4,
    [-4, 0.5], [-4, 0.5], -4, -4,

    [-7, 2], [-7, 2 / 3], [-7, 2 / 3], [-9, 2 / 3], [-7, 1.5],
    [-7, 0.5], [-7, 0.5], [-6, 0.5], [-4, 0.5], [-2, 0.5], [-1, 1.5],
    [1, 0.5], [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 2],

    [-1, 2 / 3], [1, 2 / 3], [3, 2 / 3], [13, 6], [16, 2], [15, 2], [12, 4],
    [8, 2], [9, 6], [13, 2], [12, 2], [8, 4],
    [8, 2], [9, 6], [13, 2], [12, 2], [8, 4],
    [5, 2], [6, 6], [9, 2], [8, 2], [4, 4],
    [1, 2],
    3, [3, 0.5], [5, 0.5], [7, 4], [10, 2],
    8,
    [-4, 0.5], [-4, 0.5], -4,
    [-4, 0.5], [-4, 0.5], -4,
    [-4, 0.5], [-4, 0.5], -4, -4
  ]

  var notes = prelude
    .concat(overtune)
    .concat(verse)
    .concat(prelude)
    .concat(overtune)
    .concat(verse)

  window.channels.push({
    name: 'square1',
    config: {
      instrument: {
        waveform: 'square',
        sampleRate: 44100,
        bpm: 190,
        fadeOut: {
          from: 0.3,
          to: 1.4
        }
      },
      audio: {
        volume: 0.1
      }
    },
    notes: notes
  })
})()

;(function () {
  var prelude = [
    [1, 5], -4, -4, 1, [-1, 0.5], [-3, 0.5], [-1, 7],
    [1, 5], -3, -3, 1, [0, 0.5], [-2, 0.5], [0, 7]
  ]

  var overtune = [
    [-20, 2], [null, 6],
    [-20, 2], [null, 6],

    [1, 1.5], [null, 0.5], [-4, 1.5], [null, 1.5],
    1, [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 1.5], [null, 6.5]
  ]

  var verse = [
    [1, 1.5], [null, 0.5], [-4, 1.5], [null, 1.5],
    1, [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 1.5], [null, 6.5],

    [1, 2], [-4, 3],
    1, [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 5],
    8, [8, 2 / 3], [9, 2 / 3], [11, 2 / 3], [13, 5],
    13, [13, 2 / 3], [11, 2 / 3], [9, 2 / 3], [11, 1.5], [9, 0.5], [8, 4],
    [8, 2], 6, [6, 0.5], [8, 0.5], [9, 4],
    8, 6, 4, [4, 0.5], [6, 0.5], [8, 4],
    6, 4, [-5, 2], [-5, 2 / 3], [-5, 2 / 3], [-4, 2 / 3], [-2, 2 / 3], [-2, 2 / 3], [0, 2 / 3], 1, 3,
    -12, [-12, 0.5], [-12, 0.5],
    -13, [-13, 0.5], [-13, 0.5],
    -14, [-14, 0.5], [-14, 0.5],
    -15, -15,

    [1, 2], [-4, 3],
    1, [1, 0.5], [3, 0.5], [5, 0.5], [6, 0.5], [8, 5],
    8, [8, 2 / 3], [9, 2 / 3], [11, 2 / 3], [4, 6],
    [7, 2], [6, 2], [3, 4],
    [0, 2],
    [-27, 2 / 3], [-23, 2 / 3], [-20, 2 / 3],
    [-17, 2 / 3], [-11, 2 / 3], [-8, 2 / 3],
    [-5, 4],
    [-4, 2],
    [-16, 2 / 3], [-16, 2 / 3], [-16, 2 / 3], [-16, 4],
    [-27, 2 / 3], [-23, 2 / 3], [-20, 2 / 3],
    [-17, 2 / 3], [-11, 2 / 3], [-8, 2 / 3],
    [-5, 4],
    [-4, 2],
    [-16, 2 / 3], [-16, 2 / 3], [-16, 2 / 3], [-16, 4],
    [-3, 6], [2, 2], [1, 2], [-4, 4],
    [-8, 2], [-5, 2],
    -5, [-5, 0.5], [-4, 0.5],
    -2, [-2, 0.5], [0, 0.5],
    1, 3,
    -12, [-12, 0.5], [-12, 0.5],
    -13, [-13, 0.5], [-13, 0.5],
    -14, [-14, 0.5], [-14, 0.5],
    -15, -15
  ]

  var notes = prelude
    .concat(overtune)
    .concat(verse)
    .concat(prelude)
    .concat(overtune)
    .concat(verse)

  window.channels.push({
    name: 'square2',
    config: {
      instrument: {
        waveform: 'square',
        sampleRate: 44100,
        bpm: 190,
        fadeOut: {
          from: 0.4,
          to: 1.6
        }
      },
      audio: {
        volume: 0.2
      }
    },
    notes: notes
  })
})()

;(function () {
  var prelude = [
    [-23, 2], [-16, 2], [-11, 4],
    [-25, 2], [-18, 2], [-13, 4],
    [-27, 2], [-20, 2], [-15, 4],
    [-28, 2], [-21, 2], [-16, 4]
  ]

  var overtune = [
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5]
  ]

  var verse = [
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],

    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],

    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],

    -20, [-20, 0.5], [-20, 0.5],
    -20, [-20, 0.5], [-20, 0.5],
    -20, [-20, 0.5], [-20, 0.5],
    -20, [-20, 0.5], [-20, 0.5],

    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],

    -16, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-26, 0.5], [-24, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],
    -25, [-25, 0.5], [-25, 0.5],

    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],
    -27, [-27, 0.5], [-27, 0.5],

    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],

    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],

    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],

    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],
    -29, [-29, 0.5], [-29, 0.5],

    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],

    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],
    -22, [-22, 0.5], [-22, 0.5],

    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],
    -23, [-23, 0.5], [-23, 0.5],

    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],
    -21, [-21, 0.5], [-21, 0.5],

    -16, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-28, 0.5], [-28, 0.5],
    -28, [-26, 0.5], [-24, 0.5]
  ]

  var notes = prelude
    .concat(overtune)
    .concat(verse)
    .concat(prelude)
    .concat(overtune)
    .concat(verse)

  window.channels.push({
    name: 'triangle',
    config: {
      instrument: {
        waveform: 'triangle',
        sampleRate: 44100,
        bpm: 190,
        fadeOut: {
          from: 0.8,
          to: 1
        }
      },
      audio: {
        volume: 0.2
      }
    },
    notes: notes
  })
})()

;(function () {
  var prelude = [
    [null, 32]
  ]

  var overtune = _.flatten(_.map(_.times(16), _.constant([
    [0, 0.2], [null, 0.8], [0, 0.1], [null, 0.4], [0, 0.1], [null, 0.4]
  ])))

  var verse = _.flatten(_.map(_.times(88), _.constant([
    [0, 0.2], [null, 0.8], [0, 0.1], [null, 0.4], [0, 0.1], [null, 0.4]
  ])))

  var notes = prelude
    .concat(overtune)
    .concat(verse)
    .concat(prelude)
    .concat(overtune)
    .concat(verse)

  window.channels.push({
    name: 'noise',
    config: {
      instrument: {
        waveform: 'noise',
        sampleRate: 44100,
        bpm: 190
      },
      audio: {
        volume: 0.05
      }
    },
    notes: notes
  })
})()
