// 3 -8
// 4 -7
// 5 -5
// 6 -3
// 7 -1
// 1 0
// 2 2
// 3 4
// 4 5
var demonotes1 = [
  null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null,

  -3, 0, -3, 2, [-5, .5], -3, [-5, .5], -3, 4, [-3, .5], -3, [-3, .5], -3, -1, 0, -1, -3, null,

  -1, -3, 2, -1, [-3, .5], -1, [-3, .5], -1, 4, [-1, .5], -1, [-1, .5], -1, 0, 2, 0, -1, null,

  -3, 0, -3, 2, [-5, .5], -3, [-5, .5], -3, 4, [-3, .5], -3, [-3, .5], -3, -1, 0, -1, -3, null,

  -1, -3, 2, -1, [-3, .5], -1, [-3, .5], -1, 4, [-1, .5], -1, [-1, .5], -1, 0, 2, 0, -1, null,

  -3, null, -5, null, -7, null, -8, null, -8, -8, -8, -8,

  -3, -1, 0, -1, 0, -3, null,

  4, 2, 0, 2, 0, 2, -3, null,

  0, -1, -3, -5, -3, -1, 7, null,

  5, 4, 2, 4, null, null, null, null,


  -8, -3, -1, 0, -1, 0, -3, null,

  4, 2, 0, 2, 0, 2, -3, null,

  0, -1, -3, -5, -3, -1, 7, null,

  5, 4, 2, 4, null, null, null, null,

  [-8, .5],
  [-5, .5],
  [-3, .5],
  [-1, .5],
  [0, .5],
  [2, .5],

  0, [-1, .5], 0, [-3, .5], 0, [-1, .5], 0, [-3, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [0, .5],
  0, [-1, .5], 0, [-3, .5], 0, [-1, .5], 0, [-3, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],

  2, [0, .5], 2, [-1, .5], 2, [0, .5], 2, [-1, .5],
  [4, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],
  [-5, .5],
  [-8, .5],
  [-7, .5],
  [-3, .5],
  [-8, .5],
  [-5, .5],
  [-3, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],
  [-5, .5], 4, 2,

  0, [-1, .5], 0, [-3, .5], 0, [-1, .5], 0, [-3, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [0, .5],
  0, [-1, .5], 0, [-3, .5], 0, [-1, .5], 0, [-3, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],

  2, [0, .5], 2, [-1, .5], 2, [0, .5], 2, [-1, .5],
  [4, .5],
  [2, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],
  [-5, .5],
  [-8, .5],
  [-7, .5],
  [-3, .5],
  [-8, .5],
  [-5, .5],
  [-3, .5],
  [0, .5],
  [-1, .5],
  [-3, .5],
  [-5, .5], 4, 2,
]

// 3 -8
// 4 -7
// 5 -5
// 6 -3
// 7 -1
// 1 0
// 2 2
// 3 4
// 4 5
demonotes2 = [
  null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null,

  -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3, -7, [-3, .5],
  [-7, .5],
  [-3, 2], -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3,
  0, -1, -3, null,

  -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3, -7, [-3, .5],
  [-7, .5],
  [-3, 2], -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3,
  0, 0, -1, null,

  null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null,

  -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3, -7, [-3, .5],
  [-7, .5],
  [-3, 2], -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3,
  0, -1, -3, null,

  -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3, -7, [-3, .5],
  [-7, .5],
  [-3, 2], -8, [-3, .5],
  [-8, .5],
  [-3, .5],
  [-8, .5], -3, -8, [-3, .5],
  [-8, .5],
  [-3, 2], -8, [-3, .5],
  [-7, .5],
  [-3, .5],
  [-7, .5], -3,
  0, 0, -1, null,
]

// 3 -8
// 4 -7
// 5 -5
// 6 -3
// 7 -1
// 1 0
// 2 2
// 3 4
// 4 5
var demonotes3 = _.flatten(_.map(_.times(200), _.constant([
  [0, .2],
  [null, 1.8]
])))

var bpm = 270

_.map([
  Instrument('sawtooth')
  .set('sampleRate', 44100)
  .set('volume', .4)
  .set('bpm', bpm)
  .enable('autoplay')
  .enable('loop')
  .perform(demonotes1),

  Instrument('square')
  .set('sampleRate', 44100)
  .set('volume', .1)
  .set('bpm', bpm)
  // .enable('autoplay')
  .enable('loop')
  .perform(demonotes2),

  Instrument('noise')
  .set('sampleRate', 44100)
  .set('volume', .2)
  .set('bpm', bpm)
  .enable('autoplay')
  .enable('loop')
  .perform(demonotes3)
], instrument => {
  instrument.audio.style.display = 'block'
  document.body.appendChild(instrument.audio)
})
